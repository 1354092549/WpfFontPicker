<UserControl x:Class="QIQI.WpfFontPicker.FontPicker"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:local="clr-namespace:QIQI.WpfFontPicker"
             mc:Ignorable="d" 
             d:DesignHeight="128" d:DesignWidth="800" BorderThickness="1" BorderBrush="{DynamicResource {x:Static SystemColors.ControlBrushKey}}">
    <DockPanel>
        <Button
            DockPanel.Dock="Right" 
            x:Name="SetFontButton" 
            Click="SetFontButton_Click"
            Background="Transparent" BorderBrush="Transparent"
            Height="{Binding ActualHeight, ElementName=FontInfoTextBlock, Mode=OneWay}">
            <Image>
                <Image.Source>
                    <DrawingImage>
                        <DrawingImage.Drawing>                            <DrawingGroup>                                <DrawingGroup.Children>                                    <DrawingGroup>                                        <DrawingGroup.Children>                                            <GeometryDrawing Brush="#FFDCD5F2" Pen="{x:Null}">                                                <GeometryDrawing.Geometry>                                                    <PathGeometry FillRule="Nonzero" Figures="M17.676,38.5L16.551,33.999 16.267,33.923C13.809,33.265,11.571,31.977,9.794,30.199L9.586,29.991 5.141,31.262 2.817,27.237 6.152,24.012 6.076,23.728C5.741,22.475 5.571,21.22 5.571,20 5.571,18.78 5.741,17.525 6.075,16.271L6.151,15.987 2.816,12.762 5.14,8.737 9.585,10.008 9.793,9.8C11.571,8.021,13.809,6.734,16.266,6.076L16.55,6 17.676,1.5 22.323,1.5 23.448,6.001 23.732,6.077C26.189,6.734,28.427,8.022,30.205,9.801L30.413,10.009 34.858,8.738 37.182,12.763 33.847,15.988 33.923,16.272C34.258,17.525 34.428,18.779 34.428,20 34.428,21.22 34.258,22.475 33.924,23.729L33.848,24.013 37.183,27.237 34.859,31.263 30.414,29.991 30.206,30.199C28.429,31.978,26.19,33.265,23.733,33.923L23.449,33.999 22.324,38.5 17.676,38.5z M20,12.036C15.608,12.036 12.036,15.609 12.036,20 12.036,24.391 15.609,27.964 20,27.964 24.391,27.964 27.964,24.391 27.964,20 27.964,15.609 24.392,12.036 20,12.036z" />                                                </GeometryDrawing.Geometry>                                            </GeometryDrawing>                                            <GeometryDrawing Brush="#FF8B75A1" Pen="{x:Null}">                                                <GeometryDrawing.Geometry>                                                    <PathGeometry FillRule="Nonzero" Figures="M21.933,2L22.892,5.837 23.035,6.408 23.604,6.56C25.976,7.195,28.136,8.438,29.852,10.154L30.268,10.571 30.834,10.409 34.621,9.326 36.555,12.675 33.712,15.424 33.289,15.833 33.441,16.401C33.765,17.612 33.929,18.823 33.929,20 33.929,21.177 33.765,22.388 33.441,23.599L33.289,24.167 33.712,24.576 36.555,27.325 34.621,30.674 30.834,29.591 30.268,29.429 29.852,29.846C28.137,31.562,25.976,32.805,23.604,33.44L23.035,33.592 22.892,34.163 21.934,38 18.067,38 17.108,34.163 16.965,33.592 16.396,33.44C14.024,32.805,11.863,31.562,10.148,29.846L9.732,29.429 9.166,29.591 5.379,30.674 3.445,27.325 6.288,24.576 6.711,24.167 6.559,23.599C6.235,22.388 6.071,21.177 6.071,20 6.071,18.823 6.235,17.612 6.559,16.401L6.711,15.833 6.288,15.424 3.445,12.675 5.379,9.326 9.166,10.409 9.732,10.571 10.148,10.154C11.863,8.438,14.024,7.195,16.396,6.56L16.965,6.408 17.108,5.837 18.066,2 21.933,2 M20,28.464C24.667,28.464 28.464,24.667 28.464,20 28.464,15.333 24.667,11.536 20,11.536 15.333,11.536 11.536,15.333 11.536,20 11.536,24.667 15.333,28.464 20,28.464 M22.714,1L17.285,1 16.136,5.594C13.567,6.282,11.265,7.621,9.44,9.447L4.903,8.149 2.189,12.85 5.594,16.142C5.264,17.375 5.071,18.664 5.071,20 5.071,21.336 5.263,22.625 5.593,23.857L2.188,27.149 4.902,31.85 9.44,30.552C11.265,32.378,13.568,33.717,16.137,34.405L17.286,39 22.715,39 23.863,34.406C26.432,33.718,28.735,32.379,30.56,30.553L35.098,31.851 37.812,27.15 34.407,23.858C34.736,22.626 34.929,21.337 34.929,20.001 34.929,18.665 34.737,17.376 34.407,16.144L37.812,12.852 35.098,8.151 30.56,9.449C28.735,7.623,26.433,6.284,23.864,5.596L22.714,1 22.714,1z M20,27.464C15.878,27.464 12.536,24.122 12.536,20 12.536,15.878 15.878,12.536 20,12.536 24.122,12.536 27.464,15.878 27.464,20 27.464,24.122 24.122,27.464 20,27.464L20,27.464z" />                                                </GeometryDrawing.Geometry>                                            </GeometryDrawing>                                            <DrawingGroup Opacity="1">                                                <DrawingGroup.Children>                                                    <GeometryDrawing Brush="#FFEEEBF7" Pen="{x:Null}">                                                        <GeometryDrawing.Geometry>                                                            <PathGeometry FillRule="Nonzero" Figures="M20,30.5C14.21,30.5 9.5,25.79 9.5,20 9.5,14.21 14.21,9.5 20,9.5 25.79,9.5 30.5,14.21 30.5,20 30.5,25.79 25.79,30.5 20,30.5z M20,15.5C17.519,15.5 15.5,17.519 15.5,20 15.5,22.481 17.519,24.5 20,24.5 22.481,24.5 24.5,22.481 24.5,20 24.5,17.519 22.481,15.5 20,15.5z" />                                                        </GeometryDrawing.Geometry>                                                    </GeometryDrawing>                                                    <GeometryDrawing Brush="#FF8B75A1" Pen="{x:Null}">                                                        <GeometryDrawing.Geometry>                                                            <PathGeometry FillRule="Nonzero" Figures="M20,10C25.514,10 30,14.486 30,20 30,25.514 25.514,30 20,30 14.486,30 10,25.514 10,20 10,14.486 14.486,10 20,10 M20,25C22.757,25 25,22.757 25,20 25,17.243 22.757,15 20,15 17.243,15 15,17.243 15,20 15,22.757 17.243,25 20,25 M20,9C13.925,9 9,13.925 9,20 9,26.075 13.925,31 20,31 26.075,31 31,26.075 31,20 31,13.925 26.075,9 20,9L20,9z M20,24C17.791,24 16,22.209 16,20 16,17.791 17.791,16 20,16 22.209,16 24,17.791 24,20 24,22.209 22.209,24 20,24L20,24z" />                                                        </GeometryDrawing.Geometry>                                                    </GeometryDrawing>                                                </DrawingGroup.Children>                                            </DrawingGroup>                                        </DrawingGroup.Children>                                        <DrawingGroup.ClipGeometry>                                            <RectangleGeometry Rect="0,0,40,40" />                                        </DrawingGroup.ClipGeometry>                                    </DrawingGroup>                                </DrawingGroup.Children>                            </DrawingGroup>                        </DrawingImage.Drawing>                    </DrawingImage>
                </Image.Source>
            </Image>
        </Button>
        <Label 
            x:Name="FontInfoLabel"
            d:DataContext="{d:DesignInstance {x:Type local:PackedFontInfo}}" 
            FontFamily="{Binding Family, Mode=OneWay}" 
            FontStretch="{Binding Stretch, Mode=OneWay}" 
            FontStyle="{Binding Style, Mode=OneWay}"
            FontWeight="{Binding Weight, Mode=OneWay}" 
            VerticalContentAlignment="Center"
            Padding="0">
            <TextBlock Text="{Binding Mode=OneWay}" x:Name="FontInfoTextBlock" Padding="5,5" />
        </Label>
    </DockPanel>
</UserControl>
